<!DOCTYPE html>
<html>
  <head>
    <title>RailsProjectTemplate</title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag    'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  </head>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Campfound</a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <% if current_user %>
            <li><a href="/dashboard">Dashboard</a></li>
          <% end %>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <ul class="nav navbar-nav navbar-right">
              <% if current_user %>
                <%= "Signed in as: #{current_user.name}  " %>
                <%= link_to 'Logout', logout_path, method: :delete, class: "btn btn-primary btn-sm" %>
              <% else %>
                <%= link_to 'Sign in with Google', "/auth/google_oauth2", id: "sign_in", class: "btn btn-primary btn-sm" %>
                <%= link_to 'Create an account', new_user_path, class: "btn btn-primary btn-sm" %>
                <%= link_to 'Login', login_path, class: "btn btn-primary btn-sm" %>
              <% end %>
          </ul>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>
  <body>
    <% flash.each do |type, message| %>
      <%= content_tag :div, sanitize(message), class: "flash_#{type}" %>
    <% end %>
    <%= yield %>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&key=<%= ENV['google_places_api_key']%>"></script>
  </body>
</html>
